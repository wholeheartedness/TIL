# íŒŒì¼ ì…ì¶œë ¥ (File IO)

## 1. ì…ì¶œë ¥ ê°œìš”

âœ¨ ì…ì¶œë ¥

- ì…ë ¥(Input)ê³¼ ì¶œë ¥(Output)ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
- ì»´í“¨í„° ë‚´ë¶€orì™¸ë¶€ ì¥ì¹˜ì™€ í”„ë¡œê·¸ë¨ê°„ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ê²ƒ ì…ë‹ˆë‹¤.
- JavaëŠ” í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì‹œì—ë§Œ ë³€ìˆ˜ ë©”ëª¨ë¦¬ì— ë°ì´í„°ê°€ ìœ ì§€ë©ë‹ˆë‹¤.
  - ì…ì¶œë ¥ì€ í”„ë¡œê·¸ë¨ì„ ê»ì„ ë•Œë„ ë°ì´í„°ë¥¼ ìœ ì§€ì‹œí‚¤ê³  ì‹¶ì€ ìš©ë„ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

<br>

âœ¨ìŠ¤íŠ¸ë¦¼

- ë°ì´í„°ë¥¼ ìš´ë°˜í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ì—°ê²°í†µë¡œ ì…ë‹ˆë‹¤.
  - ìë°”ì—ì„œ ì…ì¶œë ¥ì„ ìˆ˜í–‰ ì‹œ (Aê°€ Bì— ë°ì´í„°ë¥¼ ì „ë‹¬ í•  ë•Œ) 
  - Aì™€  Bë¥¼ ì—°ê²°í•˜ê³  ë°ì´í„°ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë° í•„ìš”í•œ ê²ƒì…ë‹ˆë‹¤.
    - ì½”ë“œ ì‘ì„± ì‹œ ì‚¬ìš©í•œ Streamê³¼ ë‹¤ë¥¸ ê°œë…ì…ë‹ˆë‹¤.

<br>

<br>

---

<br>

<br>

## 2. ì…ì¶œë ¥ ì‚¬ìš©í•˜ê¸°

<br>

### 2.1. ê°„ë‹¨í•œ ì‚¬ìš© ì‹¤ìŠµí•˜ê¸°

- **FileReader** **í´ë˜ìŠ¤**ë¥¼ ì‚¬ìš©í•˜ì—¬ 'hello' ë¼ëŠ” íŒŒì¼ì„ ë¶ˆëŸ¬ë“¤ì…ë‹ˆë‹¤.

  *ğŸ’¾[FileReader] [java.io.]  íŒŒì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” í´ë˜ìŠ¤*

  ```java
  List<Character> readChars = new ArrayList<>();
  try (FileReader reader = new FileReader("Hello")) {
      int character;
      while ((character = reader.read()) != -1) {
          System.out.println((char) character);
          readChars.add((char) character);
      }
  } catch (IOException e) {
      System.out.println("íŒŒì¼ ì½ê¸° ì—ëŸ¬");
  }
  ```

  <br>

- **FileWirter í´ë˜ìŠ¤**ë¥¼ ì‚¬ìš©í•˜ì—¬ 'output.txt' ë¼ëŠ” íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

  *ğŸ’¾[FileWriter] [java.io] íŒŒì¼ì„ ìƒì„±í•˜ëŠ” í´ë˜ìŠ¤*


    - helloë¼ëŠ” íŒŒì¼ì˜ ë‚´ìš©ì„ ê°€ì§€ê³  ì™€ì„œ ìƒì„±í•´ë³´ê² ìŠµë‹ˆë‹¤.


  ```java
  try (FileWriter writer = new FileWriter("output.txt", true)) {
      for (Character character : readChars) {
          writer.write(character);
      }
  } catch (IOException ignored) {
      System.out.println("íŒŒì¼ ì“°ê¸° ì—ëŸ¬");
  }
  ```

<br>

  - ì•„ë˜ëŠ” ì¶œë ¥ ê²°ê³¼ì…ë‹ˆë‹¤.

  - helloì˜ íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ output.txtì— ë„£ëŠ” ê³¼ì •ì´ ì˜ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.

    ![image-20231130151358089](https://raw.githubusercontent.com/wholeheartedness/image_repo/main/img/image-20231130151358089.png) 

<br>

- BufferedReader í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ íŒŒì¼ì„ ë¶ˆëŸ¬ë“¤ì—¬ë³´ê² ìŠµë‹ˆë‹¤.

  ```java
  List<String> readLines = new ArrayList<>();
  try (FileReader fileReader = new FileReader("hello");
      BufferedReader reader = new BufferedReader(fileReader)) {
      String line;
      while ((line = reader.readLine()) != null) {
          System.out.println(line);
          readLines.add(line);
      }
  } catch (IOException e) {
      System.out.println("ErrorOpening File : " + e.getMessage());
      /*
      file : helloì— ì…ë ¥ëœ ë‚´ìš©ì…ë‹ˆë‹¤.
       */
  }
  ```

  - BufferedReaderëŠ” íŒŒì¼ì„ ì½ê¸° ìœ„í•´ì„œê°€ ì•„ë‹ˆë¼

  - ì „ì²´ì ì¸ ì…ì¶œë ¥ ê³¼ì •ì— ë²„í¼ë§ ê¸°ëŠ¥ì„ ë”í•´ì£¼ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

    <br>

- FileReadeê°€ ë°¥ì•Œì„ í•˜ë‚˜ì”© ë‹´ëŠ” ê³¼ì •ì´ë¼ë©´

- BufferedReaderëŠ” ë°¥ìˆŸê°€ë½ìœ¼ë¡œ ë°¥ë­‰íƒ±ì´ë¥¼ ë‹´ëŠ” ê³¼ì •ì…ë‹ˆë‹¤

- íŒŒì¼ ì…ì¶œë ¥ì€ ì¥ê¸°ê¸°ì–µì¥ì¹˜ì— ì…ì¶œë ¥ì„ í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì—

- ì…ì¶œë ¥ íšŸìˆ˜ë¥¼ ì¤„ì—¬ì•¼ ì†ë„ê°€ ë¹¨ë¼ì§‘ë‹ˆë‹¤.

<br>

<br>

<br>

---



### 2.2. í´ë˜ìŠ¤ ìƒì„±í•˜ì—¬ ì‹¤ìŠµí•˜ê¸°

- í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ íŒŒì¼ì„ write í•´ë³´ê² ìŠµë‹ˆë‹¤.

  <br>

- ì‚¬ëŒì˜ <ì´ë¦„, ì´ë©”ì¼, ë‚˜ì´, ì„±ë³„> ì´ ë‹´ê¸´ csv íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤.

  ![image-20231130164506736](https://raw.githubusercontent.com/wholeheartedness/image_repo/main/img/image-20231130164506736.png)

- ë°ì´í„°ë¥¼ ë°˜ì˜í•˜ì—¬ Person í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.

  âœ¨Plain Old Java Object 

  - í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì§€ ì•Šì•„ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ê°€ ì•„ë‹Œ
  - getter, setterì™€ ê°™ì€ ë°ì´í„°ë§Œ ë“¤ê³ ìˆëŠ” ìˆœìˆ˜í•œ ìë°” ê°ì²´ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

  ```java
  import java.util.Objects;
  
  public class Person {
  private String name;
  private String email;
  private int age;
  private String gender;
  
  public Person() {
  }
  
  public Person(String name, String email, int age, String gender) {
      this.name = name;
      this.email = email;
      this.age = age;
      this.gender = gender;
  }
  
  public String getName() {
      return name;
  }
  
  public void setName(String name) {
      this.name = name;
  }
  
  public String getEmail() {
      return email;
  }
  
  public void setEmail(String email) {
      this.email = email;
  }
  
  public int getAge() {
      return age;
  }
  
  public void setAge(int age) {
      this.age = age;
  }
  
  public String getGender() {
      return gender;
  }
  
  public void setGender(String gender) {
      this.gender = gender;
  }
  
  @Override
  public boolean equals(Object o) {
      if (this == o) return true;
      if (o == null || getClass() != o.getClass()) return false;
      Person person = (Person) o;
      return age == person.age && Objects.equals(name, person.name) && Objects.equals(email, person.email) && Objects.equals(gender, person.gender);
  }
  
  @Override
  public int hashCode() {
      return Objects.hash(name, email, age, gender);
  }
  
  @Override
  public String toString() {
      return "Person{" +
              "name='" + name + '\'' +
              ", email='" + email + '\'' +
              ", age=" + age +
              ", gender='" + gender + '\'' +
              '}';
  }
  }
  
  ```

  <br>

  <br>
  
  <1> List<String>ì„ ì„ ì–¸í•˜ì—¬ íŒŒì¼ ë‚´ìš©ì„ í•œì¤„ ì”© ì½ì„ Listë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

  ```java
  List<String> readLines = new ArrayList<>(); 
  ```

  <br>

  <2>  List<Person>ë¥¼ ì„ ì–¸í•˜ì—¬ í´ë˜ìŠ¤ë¥¼ ë‹´ì„ Listë¥¼ ìƒì„±í•©ë‹ˆë‹¤
  
  ```java
  List<Person> people = new ArrayList<>();
  ```
  
  <br>
  
  <br>
  
  **âœ¨ CSV íŒŒì¼ ì½ì–´ë“¤ì´ê¸°**
  
  <br>
  
  <3> try-**catch**ë¥¼ í†µí•´ íŒŒì¼ ì…ë ¥ì— ì—ëŸ¬ê°€ ë°œìƒí•  ê²½ìš°ë¥¼ ì§€ì •í•´ì¤ë‹ˆë‹¤
  
  ```java
  try () {}
  catch (IOException e) {
      System.out.println("ErrorOpening File : " + e.getMessage());
  }
  ```
  
  <br>
  
  <4> **try** êµ¬ë¬¸ ë‚´ì—ì„œ Fileì„ read ë°›ìŠµë‹ˆë‹¤.
  
  - ë³µì¡í•˜ë‹ˆ í•œì¤„ì”© ë³´ê² ìŠµë‹ˆë‹¤.
  
  ```java
  try (FileReader fileReader = new FileReader("people.csv"); // ğŸ‘ˆì–´ë–¤ íŒŒì¼ì„ ì—´ê±´ì§€
       BufferedReader reader = new BufferedReader(fileReader)) {
      String line;
      while ((line = reader.readLine()) != null) {
          //ğŸ‘‡ ë°ì´í„°ë¥¼ ëª¨ìœ¼ê³  ì •ë¦¬í•˜ëŠ” ë¶€ë¶„
          System.out.println(line);
          readLines.add(line);
          String[] seperated = line.split(","); // ğŸ‘ˆì‰¼í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆˆë‹¤(name, email, age, m/f)
          Person person = new Person(
                  seperated[0],
                  seperated[1],
                  Integer.parseInt(seperated[2]),
                  seperated[3]
          );
          people.add(person);
      }
  } 
  ```
  
  <br>
  
  <4-1>  FileReader í´ë˜ìŠ¤ì˜ fileReader ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ê³  "people.csv" Fileì„ ë¶ˆëŸ¬ë“¤ì¸ í›„,
  
  BufferedReaderí´ë˜ìŠ¤ì˜ reader ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ê³  "people.csv"ë¥¼ ë¶ˆëŸ¬ë“¤ fileReaderë¥¼ ë¶ˆëŸ¬ë“¤ì…ë‹ˆë‹¤.
  
  ```java
  try (FileReader fileReader = new FileReader("people.csv"); 
       BufferedReader reader = new BufferedReader(fileReader)){ }
  ```
  
  <br>
  
  ğŸ’¡try-with-resource : **try (  ) {}**
  
  - try ë’¤ì˜ ê´„í˜¸ëŠ” 
  
  - Statement Class(SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” í´ë˜ìŠ¤)ì˜ ì¸ìŠ¤í„´ìŠ¤ 
  
  - í˜¹ì€ Stream íƒ€ì…ì˜ í´ë˜ìŠ¤ë“¤ì´ 
  
  - **ë™ì‘ í›„ close()ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ë©”ì„œë“œì˜ closeë¥¼** 
  
  - **ìë™ìœ¼ë¡œ ì‹¤í–‰**í•´ì£¼ëŠ” ê³µê°„ì…ë‹ˆë‹¤.
  
    - ë¸”ë¡ ìˆ˜í–‰ í›„ ìì›ì´ ìë™ìœ¼ë¡œ í•´ì œë©ë‹ˆë‹¤.
  
  - Finally ë‹¤ìŒì— close() ë©”ì„œë“œë¥¼ ì‘ì„±í•´ì£¼ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
  
    <br>
  
  <4-2> BufferedReaderì˜ ê°ì²´ì¸ readerì˜ readLine ë©”ì„œë“œë¥¼ í†µí•´ ì½ì–´ë“¤ì¸ ë°ì´í„°ë¥¼ ì €ì¥í•  ë¬¸ìì—´ lineì„ ì •ì˜í•©ë‹ˆë‹¤.
  
  - âœ¨ë°ì´í„°ë¥¼ ëª¨ìœ¼ê³  ì •ë¦¬í•˜ëŠ” êµ¬ë¬¸ì…ë‹ˆë‹¤.
  
    - ì½ì–´ë“¤ì¸ ë°ì´í„°ê°€ nullì´ ì•„ë‹ ê²½ìš° whileë¬¸ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
  
    - ê°€ì¥ ì²˜ìŒ ì„ ì–¸í–ˆë˜ readLines ë¦¬ìŠ¤íŠ¸ì— ì½ì–´ë“¤ì¸ line ë¬¸ìì—´ì„ í• ë‹¹í•©ë‹ˆë‹¤. 
  
    - split() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì‰¼í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¬¸ìì—´ì„ ë‚˜ëˆˆ í›„ ë¬¸ì ë°°ì—´ seperatedì— í• ë‹¹í•©ë‹ˆë‹¤.
  
    - Person í´ë˜ìŠ¤ì˜ person ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ê³ 
    - ë‚˜ëˆ„ì–´ì§„ ë¬¸ìë°°ì—´ seperatedë¥¼ ì¸ìë¡œ ê°ê° í• ë‹¹í•©ë‹ˆë‹¤.
      - Integer.parseInt()ëŠ” ë¬¸ìì—´ì„ ì •ìˆ˜ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
    - ë§Œë“¤ì–´ì§„ personê°ì²´ë¥¼ Personíƒ€ì…ì˜ Listì¸ peopleì— ì¶”ê°€í•©ë‹ˆë‹¤.
    - ì´ë¥¼ ë°˜ë³µí•˜ì—¬ ì—¬ëŸ¬ê°œì˜ personê°ì²´ë¥¼ ì°ì–´ëƒ…ë‹ˆë‹¤.
  
  ```java
  String line;
  while ((line = reader.readLine()) != null) {
      //ğŸ‘‡ ë°ì´í„°ë¥¼ ëª¨ìœ¼ê³  ì •ë¦¬í•˜ëŠ” ë¶€ë¶„
      readLines.add(line);
      String[] seperated = line.split(","); 
      Person person = new Person(
              seperated[0],
              seperated[1],
              Integer.parseInt(seperated[2]),
              seperated[3]
      );
      people.add(person);
  }
  ```
  
  <br>
  
  <br>
  
  **âœ¨ csvë¡œ ì½ì–´ë“¤ì¸ Person ê°ì²´ë¥¼ íŒŒì¼ì— ì“°ê¸°**
  
  <br>
  
  <5> ë§ˆì°¬ê°€ì§€ë¡œ try-**catch**ë¥¼ í†µí•´ íŒŒì¼ ì…ë ¥ì— ì—ëŸ¬ê°€ ë°œìƒí•  ê²½ìš°ë¥¼ ì§€ì •í•´ì¤ë‹ˆë‹¤
  
  ```java
  try () {}
  catch (IOException e) {
      System.out.println("ErrorOpening File : " + e.getMessage());
  }
  ```
  
  <br>
  
  <6> **try** êµ¬ë¬¸ ë‚´ì—ì„œ Fileì„ write í•©ë‹ˆë‹¤.
  
  - ë³µì¡í•˜ë‹ˆ í•œì¤„ì”© ë³´ê² ìŠµë‹ˆë‹¤.
  
  ```java
  try (FileWriter fileWriter = new FileWriter("output.txt");  //ğŸ‘ˆì–´ë–¤ íŒŒì¼ì— ì‘ì„±í• ê±´ì§€
               BufferedWriter writer = new BufferedWriter(fileWriter)){
              for (Person person : people) {
                  String peopleLine = String.format( "%s, %s, %s, %s",
                          person.getName(),
                          person.getEmail(),
                          person.getAge(),
                          person.getGender()
                  );
                  writer.write(peopleLine);
                  writer.newLine();
              }
          }
  ```
  
  <br>
  
  <6-1>  FileWriter í´ë˜ìŠ¤ì˜ fileWrite ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ê³  
  
  ë°ì´í„°ë¥¼ ì…ë ¥í•  íŒŒì¼ "output.txt" ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.
  
  ê·¸ë¦¬ê³  BufferWriter í´ë˜ìŠ¤ì˜ writer ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ê³  "output.txt"ì— ë°ì´í„°ë¥¼ ì…ë ¥ í•  fileWriter ê°ì²´ë¥¼ ë¶ˆëŸ¬ë“¤ì…ë‹ˆë‹¤. 
  
  ```java
  try (FileWriter fileWriter = new FileWriter("output.txt");  //ğŸ‘ˆì–´ë–¤ íŒŒì¼ì— ì‘ì„±í• ê±´ì§€
       BufferedWriter writer = new BufferedWriter(fileWriter)){ }
  ```
  
  <br/>
  
  <6-2> Person í´ë˜ìŠ¤ ìë£Œí˜• íƒ€ì…ì˜ Listì¸ peopleì„ foreachë¡œ ìˆœíšŒí•©ë‹ˆë‹¤.
  
  - peopleLineì´ë¼ëŠ” ë¬¸ìì—´ì„ ì„ ì–¸í•˜ê³  personê°ì²´ì˜ ë°ì´í„°ë¥¼ String í˜•ì‹ìœ¼ë¡œ í¬ë§¤íŒ…í•˜ì—¬ í• ë‹¹í•©ë‹ˆë‹¤. 
  
  - peopleì˜ ê° ë°ì´í„° ìš”ì†Œë“¤ì€ ì•ì„œ seperated ë¬¸ì ë°°ì—´ì—ì„œ setì´ ë˜ì—ˆê¸° ë•Œë¬¸ì—, ê°ì²´ì˜ getterë¥¼ ì‚¬ìš©í•˜ì—¬ ì–»ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  
  ```java
  for (Person person : people) {
      String peopleLine = String.format( "%s, %s, %s, %s",
              person.getName(),
              person.getEmail(),
              person.getAge(),
              person.getGender()
      );
  ```
  
  <br>
  
  <6-3> ì •ë³´ê°€ ì°¨ë¡€ëŒ€ë¡œ ì íŒ í•œì¤„ì˜ peopleLineì€ 
  
  - bufferedWriter í´ë˜ìŠ¤ì˜ writer ê°ì²´ì™€ write ë©”ì„œë“œë¥¼ í†µí•´, 
  
  - ê·¸ë¦¬ê³  ì´í›„ FileWriter í´ë˜ìŠ¤ì˜ fileWriter ê°ì²´ì— ì˜í•´ 
  
  - ìµœì¢…ì ìœ¼ë¡œ "output.txt"ì— ì‘ì„±ë©ë‹ˆë‹¤.
  
    ```java
            writer.write(peopleLine);
            writer.newLine();
        }
    }
    ```
  
  
  
  <br>
  
  <br>
  
  <br>
  
  **âœ¨ ê²°ê³¼**
  
  - output.txt íŒŒì¼ì— people.csv ë°ì´í„°ê°€ String í¬ë§·ìœ¼ë¡œ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.
  
  ![image-20231201005934981](https://raw.githubusercontent.com/wholeheartedness/image_repo/main/img/image-20231201005934981.png)

